# 実践ソフトウェア開発 プロジェクト

# はじめに

本プロジェクトは、2023年9月に実践ソフトウェア開発の講義で開発したSNS型Webアプリケーションです。

## プロジェクトメンバー

- **鈴木理功** - フロントエンド開発担当
- **山田拓** - フロントエンド開発担当  
- **NGUYEN THE PHONG** - バックエンド開発担当

## プロジェクト概要

本プロジェクトでは、チーム開発の実践として、フロントエンド担当者とバックエンド担当者に役割を分担し、
PythonとJavaScriptを用いてSNS機能を持つWebアプリケーションを開発しました。

### 主な機能
- ユーザー登録・ログイン機能
- 投稿（テキスト・画像）機能
- コメント機能
- いいね機能
- ユーザープロフィール表示

### 技術スタック
- **バックエンド**: Python, Flask, SQLite, PickleDB
- **フロントエンド**: SvelteKit, JavaScript, HTML, CSS

--------------------------------------------------------------------------------
# ソフトウェアのインストール

コマンドプロンプトから、以下のコマンドを実行して、必要なソフトウェアをインストールしてください。

```
winget install OpenJS.NodeJS.LTS
winget install Python
winget install Git.Git
winget install Microsoft.VisualStudioCode
```

wingetが使えない場合やWindows以外の環境を利用する場合、個別の入手先は以下のリンクを参照してください。

- https://nodejs.org/en
- https://www.python.org/downloads/　
- https://code.visualstudio.com/download
- https://gitforwindows.org/

--------------------------------------------------------------------------------
# テンプレートプロジェクトの取得

```
mkdir C:\source 
cd C:\source
git clone https://github.com/tt-hasegawa/mu-psd-10.git
```

01のところは事前に割り当てられた01から09までの番号を利用してください。
また、ペアの人と同じリポジトリを利用してください。

--------------------------------------------------------------------------------

# サーバサイド開発
Python + Flaskを用いて開発します。
リクエストされたURLに応じて、必要なリソースを返したり、
データベースへの登録／更新／参照を行う部分を担当します。

## ライブラリのインストール

```
cd backend
pip install flask flask-cors pickledb
```

## 実行方法
```
cd backend
python server.py
```

http://localhost:5000/

にアクセスして動きを確認してみましょう。

## ソースの解説

- ソースファイルは基本的に、Server.py1個だけ。

- 10行目までと最後2行は定型文なので、基本的に触る必要はありません。

- @app.route(…)がURLを表します。

- 次行の関数がそのロジック実装になります。

- 関数の戻り値がBackendサーバで表示される値になります。

## データベースについて

今回の演習サンプルではPickleDBというシンプルなKey-Value型データベースを取り扱います。
キーの名前が付いた入れ物にデータを入れるだけの簡単なデータベースです。

- キー値keyに変数valを保存するときは、
```
db.set(key,val);
db.dump();
```

- キー値keyに入っているデータを変数valに読み込むときは、
```
val = db.get(key)
```

全体を読み込むときは、以下のようにします。
```
for key in db.getAll():
    print(key + "=" + db.get(key))
```

--------------------------------------------------------------------------------

# クライアントサイド開発
SvelteKitと呼ばれるフレームワークを用いて、JavaScript+HTML、CSSでWeb画面を作成します。

## ライブラリのインストール

```
cd frontend
npm i
```

## 実行方法
```
cd frontend 
npm run dev
```
http://localhost:5173

にアクセスして動きを確認してみましょう。

## ソースの解説

- Srcフォルダの下にページごとに+page.svelteファイルが1個あり、これを編集していきます。

- Svelteファイルは以下3つのブロックに分かれます。

- scriptブロック  JavaScriptでプログラムコードを書く

- mainブロック    html文書構造を記述するブロック

- styleブロック   CSSで、表示／装飾するスタイルを記載する

- scriptブロックで宣言した変数の内容をHTMLに表示する場合は、{ }で括って記述します。

- scriptブロックで動的に変更された値も即座にHTML側に反映されます。

- styleブロックにはタグ名、クラス名で属性の設定先を指定します。

## 一からソースを生成する場合

Svelte kitで一からソースを作成したい場合は以下のコマンドでプロジェクトを作成できます。

```
npm create svelte@latest frontend
```


## その他便利コマンド

- ソースのフォーマット
```
cd frontend
npm run format
```

- 文法チェック
```
cd frontend
npm run lint
```


--------------------------------------------------------------------------------

# 開発の進め方

## やりたいことをきめる
 
 documents/design-document.mdの概要説明欄にやりたいこと、解決したい課題、実現したい機能をまとめてください。

## 画面構成を考える

作成するアプリが必要になる画面の一覧を画面構成に列挙していってください。

## 画面遷移を考える

できたら、それがどのような相関関係になるか、画面遷移を含めて、page-design.drawio.svgに描いてみてください。

## やりとりするデータを決める

どんなデータを表示したいか、データベースに格納したいか、を考えます。

## APIとデータに格納する部分を作る

フロントエンド／バックエンドの間でやりとりするデータの定義を考えて決めてください。


JSONの実装形式とサンプルデータ、コメントを記載して、どんなデータをやりとりするか、を記述してください。


--------------------------------------------------------------------------------

# プロジェクトの進め方

Githubリポジトリ画面上段にあるissueに沿って課題を進めていき、終わり次第、issueをクローズしていってください。


--------------------------------------------------------------------------------

# 参考リンク

- [とほほのFlask入門](https://www.tohoho-web.com/ex/flask.html)

- [とほほのCSS入門](https://www.tohoho-web.com/css/basic.htm)

- [とほほのPython入門](https://www.tohoho-web.com/python/)

- [Svelte](https://svelte.jp/)

- [SvelteKit](https://kit.svelte.jp/)
